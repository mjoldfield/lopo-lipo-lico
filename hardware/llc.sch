EESchema Schematic File Version 2
LIBS:microchip_pic16mcu
LIBS:opto
LIBS:device
LIBS:power
LIBS:conn
LIBS:Symbols_EN60617_13Mar2013
LIBS:switches
LIBS:Symbols_Socket-DIN41612_RevA
LIBS:llc-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "Low-power LiPo Light controller"
Date "2016-02-03"
Rev "1"
Comp "Martin Oldfield"
Comment1 "http://mjoldfield.com/atelier/2016/01/lopo-lipo.html"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L PIC16F690-I/P U1
U 1 1 569ABAAF
P 2450 6600
F 0 "U1" H 3200 7400 50  0000 L CNN
F 1 "PIC16F690-I/P" H 3200 7300 50  0000 L CNN
F 2 "" H 2450 6600 50  0000 C CIN
F 3 "" H 2450 6600 50  0000 C CNN
	1    2450 6600
	1    0    0    -1  
$EndComp
$Comp
L Crystal_Small X1
U 1 1 569ABBE9
P 5100 7350
F 0 "X1" V 5100 7200 50  0000 C CNN
F 1 "32.768kHz" V 5300 7150 50  0000 C CNN
F 2 "" H 5100 7350 50  0000 C CNN
F 3 "" H 5100 7350 50  0000 C CNN
	1    5100 7350
	0    1    1    0   
$EndComp
$Comp
L C_Small C2
U 1 1 569ABCAF
P 5350 7450
F 0 "C2" V 5450 7350 50  0000 L CNN
F 1 "22pF" V 5450 7500 50  0000 L CNN
F 2 "" H 5350 7450 50  0000 C CNN
F 3 "" H 5350 7450 50  0000 C CNN
	1    5350 7450
	0    1    1    0   
$EndComp
Connection ~ 5100 7250
Connection ~ 5100 7450
Wire Wire Line
	5450 7250 5450 7350
Wire Wire Line
	5450 7350 5450 7450
$Comp
L GND #PWR11
U 1 1 569ABD3D
P 5600 7350
F 0 "#PWR11" H 5600 7100 50  0001 C CNN
F 1 "GND" H 5700 7200 50  0000 C CNN
F 2 "" H 5600 7350 50  0000 C CNN
F 3 "" H 5600 7350 50  0000 C CNN
	1    5600 7350
	1    0    0    -1  
$EndComp
Wire Wire Line
	5600 7350 5450 7350
Connection ~ 5450 7350
$Comp
L GND #PWR5
U 1 1 569ABD88
P 2450 7500
F 0 "#PWR5" H 2450 7250 50  0001 C CNN
F 1 "GND" H 2450 7350 50  0000 C CNN
F 2 "" H 2450 7500 50  0000 C CNN
F 3 "" H 2450 7500 50  0000 C CNN
	1    2450 7500
	1    0    0    -1  
$EndComp
Wire Wire Line
	2450 7400 2450 7500
$Comp
L CONN_01X06 P2
U 1 1 569ABDE2
P 5750 6100
F 0 "P2" H 5750 6450 50  0000 C CNN
F 1 "CONN_01X06" V 5850 6100 50  0001 C CNN
F 2 "" H 5750 6100 50  0000 C CNN
F 3 "" H 5750 6100 50  0000 C CNN
	1    5750 6100
	1    0    0    -1  
$EndComp
Text Notes 5900 6200 0    60   ~ 0
PROGRAMMING \nHEADER
Text GLabel 900  6100 0    39   Output ~ 0
RC0
Wire Wire Line
	900  6100 950  6100
Text GLabel 900  6200 0    39   Output ~ 0
RC1
Text GLabel 900  6300 0    39   Output ~ 0
RC2
Text GLabel 900  6400 0    39   Output ~ 0
RC3
Text GLabel 900  6500 0    39   Output ~ 0
RC4
Text GLabel 900  6600 0    39   Output ~ 0
RC5
Text GLabel 900  6700 0    39   Output ~ 0
RC6
Text GLabel 900  6800 0    39   Output ~ 0
RC7
Wire Wire Line
	900  6200 950  6200
Wire Wire Line
	900  6300 950  6300
Wire Wire Line
	900  6400 950  6400
Wire Wire Line
	900  6500 950  6500
Wire Wire Line
	900  6600 950  6600
Wire Wire Line
	900  6700 950  6700
Wire Wire Line
	900  6800 950  6800
Text GLabel 4050 6100 2    39   Input ~ 0
ICSPDAT
Text GLabel 4050 6200 2    39   Input ~ 0
ICSPCLK/VREF
Text GLabel 4050 6300 2    39   Input ~ 0
AN2
Text GLabel 4050 6400 2    39   Input ~ 0
VPP/MCLR
Text GLabel 4050 6500 2    39   Output ~ 0
OSC2
Text GLabel 4050 6600 2    39   Input ~ 0
OSC1
Text GLabel 4050 6800 2    39   Input ~ 0
RB4
Text GLabel 4050 7000 2    39   Input ~ 0
RB6
Text GLabel 4050 7100 2    39   Output ~ 0
TX
NoConn ~ 3950 6900
Wire Wire Line
	3950 6100 4050 6100
Wire Wire Line
	3950 6200 4050 6200
Wire Wire Line
	3950 6300 4050 6300
Wire Wire Line
	3950 6400 4050 6400
Wire Wire Line
	3950 6500 4050 6500
Wire Wire Line
	3950 6600 4050 6600
Wire Wire Line
	3950 6800 4050 6800
Wire Wire Line
	3950 7000 4050 7000
Wire Wire Line
	3950 7100 4050 7100
$Comp
L C_Small C1
U 1 1 56B11C7C
P 5350 7250
F 0 "C1" V 5250 7150 50  0000 L CNN
F 1 "22pF" V 5250 7300 50  0000 L CNN
F 2 "" H 5350 7250 50  0000 C CNN
F 3 "" H 5350 7250 50  0000 C CNN
	1    5350 7250
	0    1    1    0   
$EndComp
Text GLabel 4900 7250 0    39   Output ~ 0
OSC1
Text GLabel 4900 7450 0    39   Input ~ 0
OSC2
Wire Wire Line
	4900 7250 5100 7250
Wire Wire Line
	5100 7250 5250 7250
Wire Wire Line
	4900 7450 5100 7450
Wire Wire Line
	5100 7450 5250 7450
Text GLabel 5300 5850 0    39   BiDi ~ 0
VPP/MCLR
Text GLabel 5300 6150 0    39   Output ~ 0
ISCPDAT
Text GLabel 5300 6250 0    39   BiDi ~ 0
ICSPCLK/VREF
Text GLabel 5300 6350 0    39   Input ~ 0
OSC2
Wire Wire Line
	5300 5850 5550 5850
Wire Wire Line
	5300 6150 5550 6150
Wire Wire Line
	5300 6250 5550 6250
Wire Wire Line
	5300 6350 5550 6350
$Comp
L VDD #PWR4
U 1 1 56B12562
P 2450 5750
F 0 "#PWR4" H 2450 5600 50  0001 C CNN
F 1 "VDD" H 2450 5900 50  0000 C CNN
F 2 "" H 2450 5750 50  0000 C CNN
F 3 "" H 2450 5750 50  0000 C CNN
	1    2450 5750
	1    0    0    -1  
$EndComp
Wire Wire Line
	2450 5750 2450 5800
$Comp
L VDD #PWR7
U 1 1 56B125D8
P 5500 5700
F 0 "#PWR7" H 5500 5550 50  0001 C CNN
F 1 "VDD" H 5500 5850 50  0000 C CNN
F 2 "" H 5500 5700 50  0000 C CNN
F 3 "" H 5500 5700 50  0000 C CNN
	1    5500 5700
	1    0    0    -1  
$EndComp
Wire Wire Line
	5500 5700 5500 5950
Wire Wire Line
	5500 5950 5550 5950
$Comp
L GND #PWR8
U 1 1 56B12637
P 5500 6450
F 0 "#PWR8" H 5500 6200 50  0001 C CNN
F 1 "GND" H 5500 6300 50  0000 C CNN
F 2 "" H 5500 6450 50  0000 C CNN
F 3 "" H 5500 6450 50  0000 C CNN
	1    5500 6450
	1    0    0    -1  
$EndComp
Wire Wire Line
	5500 6450 5500 6050
Wire Wire Line
	5500 6050 5550 6050
Text GLabel 5050 6900 0    39   BiDi ~ 0
VPP/MCLR
$Comp
L R_Small R1
U 1 1 56B127CB
P 5250 6900
F 0 "R1" V 5350 6800 50  0000 L CNN
F 1 "10k" V 5350 6950 50  0000 L CNN
F 2 "" H 5250 6900 50  0000 C CNN
F 3 "" H 5250 6900 50  0000 C CNN
	1    5250 6900
	0    1    1    0   
$EndComp
$Comp
L VDD #PWR9
U 1 1 56B12808
P 5500 6900
F 0 "#PWR9" H 5500 6750 50  0001 C CNN
F 1 "VDD" H 5500 7050 50  0000 C CNN
F 2 "" H 5500 6900 50  0000 C CNN
F 3 "" H 5500 6900 50  0000 C CNN
	1    5500 6900
	1    0    0    -1  
$EndComp
Wire Wire Line
	5050 6900 5150 6900
Wire Wire Line
	5350 6900 5500 6900
Text Notes 4700 5350 2    118  ~ 24
PROCESSOR AND SUPPORT
$Comp
L C_Small C3
U 1 1 56B12AD2
P 6200 7300
F 0 "C3" H 6210 7370 50  0000 L CNN
F 1 "0.1uF" H 6210 7220 50  0000 L CNN
F 2 "" H 6200 7300 50  0000 C CNN
F 3 "" H 6200 7300 50  0000 C CNN
	1    6200 7300
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR13
U 1 1 56B12B22
P 6200 7500
F 0 "#PWR13" H 6200 7250 50  0001 C CNN
F 1 "GND" H 6300 7350 50  0000 C CNN
F 2 "" H 6200 7500 50  0000 C CNN
F 3 "" H 6200 7500 50  0000 C CNN
	1    6200 7500
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR12
U 1 1 56B12B45
P 6200 7050
F 0 "#PWR12" H 6200 6900 50  0001 C CNN
F 1 "VDD" H 6200 7200 50  0000 C CNN
F 2 "" H 6200 7050 50  0000 C CNN
F 3 "" H 6200 7050 50  0000 C CNN
	1    6200 7050
	1    0    0    -1  
$EndComp
Wire Wire Line
	6200 7050 6200 7200
Wire Wire Line
	6200 7400 6200 7500
Wire Notes Line
	600  5100 6600 5100
Wire Notes Line
	6600 5100 6600 7700
Wire Notes Line
	6600 7700 600  7700
Wire Notes Line
	600  7700 600  5100
$Comp
L VDD #PWR14
U 1 1 56B1320B
P 7400 5300
F 0 "#PWR14" H 7400 5150 50  0001 C CNN
F 1 "VDD" H 7250 5400 50  0000 C CNN
F 2 "" H 7400 5300 50  0000 C CNN
F 3 "" H 7400 5300 50  0000 C CNN
	1    7400 5300
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR15
U 1 1 56B1322B
P 7400 6300
F 0 "#PWR15" H 7400 6050 50  0001 C CNN
F 1 "GND" H 7550 6250 50  0000 C CNN
F 2 "" H 7400 6300 50  0000 C CNN
F 3 "" H 7400 6300 50  0000 C CNN
	1    7400 6300
	1    0    0    -1  
$EndComp
$Comp
L R_Small R20
U 1 1 56B1324B
P 7400 5450
F 0 "R20" H 7250 5350 50  0000 L CNN
F 1 "10k" H 7200 5450 50  0000 L CNN
F 2 "" H 7400 5450 50  0000 C CNN
F 3 "" H 7400 5450 50  0000 C CNN
	1    7400 5450
	-1   0    0    1   
$EndComp
$Comp
L SW_PUSH SW1
U 1 1 56B134FD
P 7400 5950
F 0 "SW1" V 7200 6150 50  0000 C CNN
F 1 "SW_PUSH" V 7300 6250 50  0001 C CNN
F 2 "" H 7400 5950 50  0000 C CNN
F 3 "" H 7400 5950 50  0000 C CNN
	1    7400 5950
	0    1    1    0   
$EndComp
Wire Wire Line
	7400 5550 7400 5600
Wire Wire Line
	7400 5600 7400 5650
Text GLabel 7200 5600 0    39   Output ~ 0
RB6
Wire Wire Line
	7400 5600 7200 5600
Wire Wire Line
	7400 6250 7400 6300
Connection ~ 7400 5600
Wire Wire Line
	7400 5300 7400 5350
$Comp
L Q_NMOS_GDS Q10
U 1 1 56B13C7A
P 8700 5950
F 0 "Q10" H 9000 6000 50  0000 R CNN
F 1 "STP80NF03L-04" H 9550 5900 50  0000 R CNN
F 2 "" H 8900 6050 50  0000 C CNN
F 3 "" H 8700 5950 50  0000 C CNN
	1    8700 5950
	1    0    0    -1  
$EndComp
$Comp
L R_Small R24
U 1 1 56B13D05
P 8350 5950
F 0 "R24" V 8250 6000 50  0000 L CNN
F 1 "270" V 8250 5800 50  0000 L CNN
F 2 "" H 8350 5950 50  0000 C CNN
F 3 "" H 8350 5950 50  0000 C CNN
	1    8350 5950
	0    -1   -1   0   
$EndComp
Text GLabel 8150 5950 0    39   Input ~ 0
RC0
$Comp
L GND #PWR18
U 1 1 56B13DA1
P 8800 6300
F 0 "#PWR18" H 8800 6050 50  0001 C CNN
F 1 "GND" H 8950 6250 50  0000 C CNN
F 2 "" H 8800 6300 50  0000 C CNN
F 3 "" H 8800 6300 50  0000 C CNN
	1    8800 6300
	1    0    0    -1  
$EndComp
$Comp
L CONN_01X02 P3
U 1 1 56B13EAB
P 9000 5500
F 0 "P3" H 9000 5650 50  0000 C CNN
F 1 "CONN_01X02" H 9350 5500 50  0001 C CNN
F 2 "" H 9000 5500 50  0000 C CNN
F 3 "" H 9000 5500 50  0000 C CNN
	1    9000 5500
	1    0    0    -1  
$EndComp
Wire Wire Line
	8800 5300 8800 5450
Wire Wire Line
	8800 5550 8800 5750
Wire Wire Line
	8800 6150 8800 6300
Wire Wire Line
	8450 5950 8500 5950
Wire Wire Line
	8150 5950 8250 5950
$Comp
L VCC #PWR17
U 1 1 56B14367
P 8800 5300
F 0 "#PWR17" H 8800 5150 50  0001 C CNN
F 1 "VCC" H 8800 5450 50  0000 C CNN
F 2 "" H 8800 5300 50  0000 C CNN
F 3 "" H 8800 5300 50  0000 C CNN
	1    8800 5300
	1    0    0    -1  
$EndComp
Wire Notes Line
	6900 5100 9600 5100
Wire Notes Line
	9600 5100 9600 6450
Wire Notes Line
	9600 6450 6900 6450
Wire Notes Line
	6900 6450 6900 5100
Text Notes 8450 5550 2    118  ~ 24
MAIN \nLIGHT
Text Notes 9150 5550 0    60   ~ 0
OUTPUT\nTO LIGHT\n
$Comp
L Q_NMOS_GSD Q2
U 1 1 56B14CA8
P 1800 4000
F 0 "Q2" H 2100 4050 50  0000 R CNN
F 1 "Si2336DS" H 2350 3950 50  0000 R CNN
F 2 "" H 2000 4100 50  0000 C CNN
F 3 "" H 1800 4000 50  0000 C CNN
	1    1800 4000
	1    0    0    -1  
$EndComp
$Comp
L Q_PMOS_GSD Q1
U 1 1 56B14E2B
P 1700 3200
F 0 "Q1" H 2000 3250 50  0000 R CNN
F 1 "Si2377EDS" H 2300 3150 50  0000 R CNN
F 2 "" H 1900 3300 50  0000 C CNN
F 3 "" H 1700 3200 50  0000 C CNN
	1    1700 3200
	-1   0    0    1   
$EndComp
$Comp
L R_Small R6
U 1 1 56B1505D
P 1900 3350
F 0 "R6" H 1930 3370 50  0000 L CNN
F 1 "0" H 1930 3310 50  0000 L CNN
F 2 "" H 1900 3350 50  0000 C CNN
F 3 "" H 1900 3350 50  0000 C CNN
	1    1900 3350
	1    0    0    -1  
$EndComp
$Comp
L R_Small R5
U 1 1 56B150E5
P 1900 3050
F 0 "R5" H 1930 3070 50  0000 L CNN
F 1 "22k" H 1930 3010 50  0000 L CNN
F 2 "" H 1900 3050 50  0000 C CNN
F 3 "" H 1900 3050 50  0000 C CNN
	1    1900 3050
	1    0    0    -1  
$EndComp
$Comp
L R_Small R3
U 1 1 56B15155
P 1600 3550
F 0 "R3" H 1630 3570 50  0000 L CNN
F 1 "22k" H 1630 3510 50  0000 L CNN
F 2 "" H 1600 3550 50  0000 C CNN
F 3 "" H 1600 3550 50  0000 C CNN
	1    1600 3550
	1    0    0    -1  
$EndComp
Wire Wire Line
	1900 3150 1900 3200
Wire Wire Line
	1900 3200 1900 3250
Connection ~ 1900 3200
Wire Wire Line
	1900 3450 1900 3800
Wire Wire Line
	1600 3400 1600 3450
Wire Wire Line
	1600 3000 1600 2900
Wire Wire Line
	1600 2900 1750 2900
Wire Wire Line
	1750 2900 1900 2900
Wire Wire Line
	1900 2900 1900 2950
Text GLabel 1500 4250 0    39   Input ~ 8
RC4
$Comp
L Q_NMOS_GSD Q4
U 1 1 56B159F7
P 2750 4000
F 0 "Q4" H 3050 4050 50  0000 R CNN
F 1 "Si2336DS" H 3300 3950 50  0000 R CNN
F 2 "" H 2950 4100 50  0000 C CNN
F 3 "" H 2750 4000 50  0000 C CNN
	1    2750 4000
	1    0    0    -1  
$EndComp
$Comp
L Q_PMOS_GSD Q3
U 1 1 56B159FD
P 2650 3200
F 0 "Q3" H 2950 3250 50  0000 R CNN
F 1 "Si2377EDS" H 3250 3150 50  0000 R CNN
F 2 "" H 2850 3300 50  0000 C CNN
F 3 "" H 2650 3200 50  0000 C CNN
	1    2650 3200
	-1   0    0    1   
$EndComp
$Comp
L R_Small R10
U 1 1 56B15A03
P 2850 3350
F 0 "R10" H 2880 3370 50  0000 L CNN
F 1 "3k3" H 2880 3310 50  0000 L CNN
F 2 "" H 2850 3350 50  0000 C CNN
F 3 "" H 2850 3350 50  0000 C CNN
	1    2850 3350
	1    0    0    -1  
$EndComp
$Comp
L R_Small R9
U 1 1 56B15A09
P 2850 3050
F 0 "R9" H 2880 3070 50  0000 L CNN
F 1 "22k" H 2880 3010 50  0000 L CNN
F 2 "" H 2850 3050 50  0000 C CNN
F 3 "" H 2850 3050 50  0000 C CNN
	1    2850 3050
	1    0    0    -1  
$EndComp
$Comp
L R_Small R7
U 1 1 56B15A0F
P 2550 3550
F 0 "R7" H 2580 3570 50  0000 L CNN
F 1 "22k" H 2580 3510 50  0000 L CNN
F 2 "" H 2550 3550 50  0000 C CNN
F 3 "" H 2550 3550 50  0000 C CNN
	1    2550 3550
	1    0    0    -1  
$EndComp
Wire Wire Line
	2850 3150 2850 3200
Wire Wire Line
	2850 3200 2850 3250
Connection ~ 2850 3200
Wire Wire Line
	2850 3450 2850 3800
Wire Wire Line
	2550 3400 2550 3450
Wire Wire Line
	2550 3000 2550 2900
Wire Wire Line
	2550 2900 2700 2900
Wire Wire Line
	2700 2900 2850 2900
Wire Wire Line
	2850 2900 2850 2950
Text GLabel 2450 4250 0    39   Input ~ 8
RC5
$Comp
L Q_NMOS_GSD Q6
U 1 1 56B15E2D
P 3700 4000
F 0 "Q6" H 4000 4050 50  0000 R CNN
F 1 "Si2336DS" H 4250 3950 50  0000 R CNN
F 2 "" H 3900 4100 50  0000 C CNN
F 3 "" H 3700 4000 50  0000 C CNN
	1    3700 4000
	1    0    0    -1  
$EndComp
$Comp
L Q_PMOS_GSD Q5
U 1 1 56B15E33
P 3600 3200
F 0 "Q5" H 3900 3250 50  0000 R CNN
F 1 "Si2377EDS" H 4200 3150 50  0000 R CNN
F 2 "" H 3800 3300 50  0000 C CNN
F 3 "" H 3600 3200 50  0000 C CNN
	1    3600 3200
	-1   0    0    1   
$EndComp
$Comp
L R_Small R14
U 1 1 56B15E39
P 3800 3350
F 0 "R14" H 3830 3370 50  0000 L CNN
F 1 "15k" H 3830 3310 50  0000 L CNN
F 2 "" H 3800 3350 50  0000 C CNN
F 3 "" H 3800 3350 50  0000 C CNN
	1    3800 3350
	1    0    0    -1  
$EndComp
$Comp
L R_Small R13
U 1 1 56B15E3F
P 3800 3050
F 0 "R13" H 3830 3070 50  0000 L CNN
F 1 "22k" H 3830 3010 50  0000 L CNN
F 2 "" H 3800 3050 50  0000 C CNN
F 3 "" H 3800 3050 50  0000 C CNN
	1    3800 3050
	1    0    0    -1  
$EndComp
$Comp
L R_Small R11
U 1 1 56B15E45
P 3500 3550
F 0 "R11" H 3530 3570 50  0000 L CNN
F 1 "22k" H 3530 3510 50  0000 L CNN
F 2 "" H 3500 3550 50  0000 C CNN
F 3 "" H 3500 3550 50  0000 C CNN
	1    3500 3550
	1    0    0    -1  
$EndComp
Wire Wire Line
	3800 3150 3800 3200
Wire Wire Line
	3800 3200 3800 3250
Connection ~ 3800 3200
Wire Wire Line
	3800 3450 3800 3800
Wire Wire Line
	3500 3400 3500 3450
Wire Wire Line
	3500 3000 3500 2900
Wire Wire Line
	3500 2900 3650 2900
Wire Wire Line
	3650 2900 3800 2900
Wire Wire Line
	3800 2900 3800 2950
Text GLabel 3400 4250 0    39   Input ~ 8
RC6
$Comp
L Q_NMOS_GSD Q8
U 1 1 56B15E54
P 4650 4000
F 0 "Q8" H 4950 4050 50  0000 R CNN
F 1 "Si2336DS" H 5200 3950 50  0000 R CNN
F 2 "" H 4850 4100 50  0000 C CNN
F 3 "" H 4650 4000 50  0000 C CNN
	1    4650 4000
	1    0    0    -1  
$EndComp
$Comp
L Q_PMOS_GSD Q7
U 1 1 56B15E5A
P 4550 3200
F 0 "Q7" H 4850 3250 50  0000 R CNN
F 1 "Si2377EDS" H 5150 3150 50  0000 R CNN
F 2 "" H 4750 3300 50  0000 C CNN
F 3 "" H 4550 3200 50  0000 C CNN
	1    4550 3200
	-1   0    0    1   
$EndComp
$Comp
L R_Small R18
U 1 1 56B15E60
P 4750 3350
F 0 "R18" H 4780 3370 50  0000 L CNN
F 1 "27k" H 4780 3310 50  0000 L CNN
F 2 "" H 4750 3350 50  0000 C CNN
F 3 "" H 4750 3350 50  0000 C CNN
	1    4750 3350
	1    0    0    -1  
$EndComp
$Comp
L R_Small R17
U 1 1 56B15E66
P 4750 3050
F 0 "R17" H 4780 3070 50  0000 L CNN
F 1 "22k" H 4780 3010 50  0000 L CNN
F 2 "" H 4750 3050 50  0000 C CNN
F 3 "" H 4750 3050 50  0000 C CNN
	1    4750 3050
	1    0    0    -1  
$EndComp
$Comp
L R_Small R15
U 1 1 56B15E6C
P 4450 3550
F 0 "R15" H 4480 3570 50  0000 L CNN
F 1 "22k" H 4480 3510 50  0000 L CNN
F 2 "" H 4450 3550 50  0000 C CNN
F 3 "" H 4450 3550 50  0000 C CNN
	1    4450 3550
	1    0    0    -1  
$EndComp
Wire Wire Line
	4750 3150 4750 3200
Wire Wire Line
	4750 3200 4750 3250
Connection ~ 4750 3200
Wire Wire Line
	4750 3450 4750 3800
Wire Wire Line
	4450 3400 4450 3450
Wire Wire Line
	4450 3000 4450 2900
Wire Wire Line
	4450 2900 4600 2900
Wire Wire Line
	4600 2900 4750 2900
Wire Wire Line
	4750 2900 4750 2950
Text GLabel 4350 4250 0    39   Input ~ 8
RC7
Wire Wire Line
	1900 4200 1900 4400
Wire Wire Line
	4750 4400 4750 4200
Wire Wire Line
	3800 4400 3800 4200
Connection ~ 3800 4400
Wire Wire Line
	2850 4400 2850 4200
Connection ~ 2850 4400
Wire Wire Line
	1600 3650 1600 3700
Wire Wire Line
	2550 3700 2550 3650
Wire Wire Line
	3500 3700 3500 3650
Connection ~ 2550 3700
Wire Wire Line
	4450 3700 4450 3650
Connection ~ 3500 3700
$Comp
L R_Small R2
U 1 1 56B165F3
P 1100 4050
F 0 "R2" H 1130 4070 50  0000 L CNN
F 1 "3k3" H 1130 4010 50  0000 L CNN
F 2 "" H 1100 4050 50  0000 C CNN
F 3 "" H 1100 4050 50  0000 C CNN
	1    1100 4050
	1    0    0    -1  
$EndComp
Wire Wire Line
	1100 3700 1600 3700
Wire Wire Line
	1600 3700 2550 3700
Wire Wire Line
	2550 3700 3500 3700
Wire Wire Line
	3500 3700 4450 3700
Wire Wire Line
	4450 3700 4850 3700
Wire Wire Line
	1100 3950 1100 3700
Connection ~ 1600 3700
Wire Wire Line
	1100 4150 1100 4400
Wire Wire Line
	1100 4400 1900 4400
Wire Wire Line
	1900 4400 2850 4400
Wire Wire Line
	2850 4400 3100 4400
Wire Wire Line
	3100 4400 3800 4400
Wire Wire Line
	3800 4400 4750 4400
Connection ~ 1900 4400
$Comp
L GND #PWR6
U 1 1 56B174AD
P 3100 4500
F 0 "#PWR6" H 3100 4250 50  0001 C CNN
F 1 "GND" H 3100 4350 50  0000 C CNN
F 2 "" H 3100 4500 50  0000 C CNN
F 3 "" H 3100 4500 50  0000 C CNN
	1    3100 4500
	1    0    0    -1  
$EndComp
Wire Wire Line
	3100 4400 3100 4500
Connection ~ 3100 4400
Text GLabel 4850 3700 2    39   Output ~ 8
AN2
Connection ~ 4450 3700
$Comp
L R_Small R4
U 1 1 56B1E510
P 1600 4150
F 0 "R4" H 1630 4170 50  0000 L CNN
F 1 "270" H 1630 4110 50  0000 L CNN
F 2 "" H 1600 4150 50  0000 C CNN
F 3 "" H 1600 4150 50  0000 C CNN
	1    1600 4150
	1    0    0    -1  
$EndComp
Wire Wire Line
	1600 4000 1600 4050
Wire Wire Line
	1600 4250 1500 4250
$Comp
L R_Small R8
U 1 1 56B1E7C7
P 2550 4150
F 0 "R8" H 2580 4170 50  0000 L CNN
F 1 "270" H 2580 4110 50  0000 L CNN
F 2 "" H 2550 4150 50  0000 C CNN
F 3 "" H 2550 4150 50  0000 C CNN
	1    2550 4150
	1    0    0    -1  
$EndComp
$Comp
L R_Small R12
U 1 1 56B1E88F
P 3500 4150
F 0 "R12" H 3530 4170 50  0000 L CNN
F 1 "270" H 3530 4110 50  0000 L CNN
F 2 "" H 3500 4150 50  0000 C CNN
F 3 "" H 3500 4150 50  0000 C CNN
	1    3500 4150
	1    0    0    -1  
$EndComp
$Comp
L R_Small R16
U 1 1 56B1E915
P 4450 4150
F 0 "R16" H 4480 4170 50  0000 L CNN
F 1 "270" H 4480 4110 50  0000 L CNN
F 2 "" H 4450 4150 50  0000 C CNN
F 3 "" H 4450 4150 50  0000 C CNN
	1    4450 4150
	1    0    0    -1  
$EndComp
Wire Wire Line
	4450 4050 4450 4000
Wire Wire Line
	4450 4250 4350 4250
Wire Wire Line
	3500 4000 3500 4050
Wire Wire Line
	3500 4250 3400 4250
Wire Wire Line
	2450 4250 2550 4250
Wire Wire Line
	2550 4050 2550 4000
$Comp
L CONN_01X05 P1
U 1 1 56B1F537
P 1150 2550
F 0 "P1" H 1150 2850 50  0000 C CNN
F 1 "Battery" V 1250 2550 50  0000 C CNN
F 2 "" H 1150 2550 50  0000 C CNN
F 3 "" H 1150 2550 50  0000 C CNN
	1    1150 2550
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR2
U 1 1 56B1F8C8
P 1400 2750
F 0 "#PWR2" H 1400 2500 50  0001 C CNN
F 1 "GND" H 1400 2600 50  0000 C CNN
F 2 "" H 1400 2750 50  0000 C CNN
F 3 "" H 1400 2750 50  0000 C CNN
	1    1400 2750
	1    0    0    -1  
$EndComp
Wire Wire Line
	1350 2650 1400 2650
Wire Wire Line
	1400 2650 1750 2650
Wire Wire Line
	1750 2650 1750 2900
Connection ~ 1750 2900
Wire Wire Line
	1350 2550 2700 2550
Wire Wire Line
	2700 2550 2700 2900
Connection ~ 2700 2900
Wire Wire Line
	1350 2450 3650 2450
Wire Wire Line
	3650 2450 3650 2900
Connection ~ 3650 2900
Wire Wire Line
	1350 2350 1600 2350
Wire Wire Line
	1600 2350 4600 2350
Wire Wire Line
	4600 2350 4600 2900
Connection ~ 4600 2900
Wire Wire Line
	1350 2750 1400 2750
$Comp
L VCC #PWR3
U 1 1 56B200E0
P 1600 2250
F 0 "#PWR3" H 1600 2100 50  0001 C CNN
F 1 "VCC" H 1600 2400 50  0000 C CNN
F 2 "" H 1600 2250 50  0000 C CNN
F 3 "" H 1600 2250 50  0000 C CNN
	1    1600 2250
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR1
U 1 1 56B20169
P 1400 2250
F 0 "#PWR1" H 1400 2100 50  0001 C CNN
F 1 "VDD" H 1400 2400 50  0000 C CNN
F 2 "" H 1400 2250 50  0000 C CNN
F 3 "" H 1400 2250 50  0000 C CNN
	1    1400 2250
	1    0    0    -1  
$EndComp
Wire Wire Line
	1400 2250 1400 2650
Connection ~ 1400 2650
Wire Wire Line
	1600 2250 1600 2350
Connection ~ 1600 2350
Wire Notes Line
	600  1800 600  4800
Wire Notes Line
	600  4800 6600 4800
Wire Notes Line
	6600 4800 6600 1800
Wire Notes Line
	6600 1800 600  1800
Text Notes 4600 2050 2    118  ~ 24
BATTERY SENSING\n
$Comp
L R_Small R19
U 1 1 56B21750
P 5600 2900
F 0 "R19" H 5700 2950 50  0000 L CNN
F 1 "22k" H 5700 2850 50  0000 L CNN
F 2 "" H 5600 2900 50  0000 C CNN
F 3 "" H 5600 2900 50  0000 C CNN
	1    5600 2900
	1    0    0    -1  
$EndComp
$Comp
L ZENERsmall D1
U 1 1 56B21936
P 5600 3300
F 0 "D1" V 5550 3200 50  0000 C CNN
F 1 "LM385-2.5" V 5650 3000 50  0000 C CNN
F 2 "" H 5600 3300 50  0000 C CNN
F 3 "" H 5600 3300 50  0000 C CNN
	1    5600 3300
	0    1    1    0   
$EndComp
Text GLabel 5450 2750 0    39   Input ~ 8
RC3
Wire Wire Line
	5450 2750 5600 2750
Wire Wire Line
	5600 2750 5600 2800
Wire Wire Line
	5600 3000 5600 3100
Wire Wire Line
	5600 3100 5600 3200
$Comp
L GND #PWR10
U 1 1 56B21E53
P 5600 4500
F 0 "#PWR10" H 5600 4250 50  0001 C CNN
F 1 "GND" H 5600 4350 50  0000 C CNN
F 2 "" H 5600 4500 50  0000 C CNN
F 3 "" H 5600 4500 50  0000 C CNN
	1    5600 4500
	1    0    0    -1  
$EndComp
$Comp
L JUMPER JP1
U 1 1 56B222EA
P 5900 3400
F 0 "JP1" V 6050 3550 50  0000 C CNN
F 1 "JUMPER" H 5900 3320 50  0001 C CNN
F 2 "" H 5900 3400 50  0000 C CNN
F 3 "" H 5900 3400 50  0000 C CNN
	1    5900 3400
	0    1    1    0   
$EndComp
Connection ~ 5600 3100
Text GLabel 5900 3900 2    39   Input ~ 8
ICSPCLK/VREF
Wire Wire Line
	5600 3400 5600 4500
Wire Wire Line
	5600 3100 5900 3100
Wire Wire Line
	5900 3700 5900 3900
Text Notes 6400 3350 2    39   ~ 0
Remove when \nprogramming
Wire Notes Line
	9900 5100 11100 5100
Wire Notes Line
	11100 5100 11100 6450
Wire Notes Line
	11100 6450 9900 6450
Wire Notes Line
	9900 6450 9900 5100
Text Notes 10750 5550 2    118  ~ 24
SERIAL \nOUTPUT
$Comp
L CONN_01X01 P4
U 1 1 56B23F2B
P 10800 5750
F 0 "P4" H 10800 5850 50  0000 C CNN
F 1 "CONN_01X01" V 10900 5750 50  0001 C CNN
F 2 "" H 10800 5750 50  0000 C CNN
F 3 "" H 10800 5750 50  0000 C CNN
	1    10800 5750
	1    0    0    -1  
$EndComp
Text GLabel 10250 5750 0    39   Input ~ 0
TX
Wire Wire Line
	10250 5750 10600 5750
Text Notes 10000 6350 0    39   ~ 0
Although the voltage levels are\nnot proper (because VDD is about\n4V) it seems to work with 5V USB \nserial converters.
Wire Notes Line
	6900 4800 8400 4800
Wire Notes Line
	8400 4800 8400 2750
Wire Notes Line
	8400 2750 6900 2750
Wire Notes Line
	6900 2750 6900 4800
Text Notes 8200 3200 2    118  ~ 24
STATUS LEDs\n\n
$Comp
L LED_RCBG D2
U 1 1 56B26642
P 7650 4150
F 0 "D2" H 7650 4500 50  0000 C CNN
F 1 "LED_RCBG" H 7650 3800 50  0000 C CNN
F 2 "" H 7650 4100 50  0000 C CNN
F 3 "" H 7650 4100 50  0000 C CNN
	1    7650 4150
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR16
U 1 1 56B266F3
P 7650 4500
F 0 "#PWR16" H 7650 4250 50  0001 C CNN
F 1 "GND" H 7650 4350 50  0000 C CNN
F 2 "" H 7650 4500 50  0000 C CNN
F 3 "" H 7650 4500 50  0000 C CNN
	1    7650 4500
	1    0    0    -1  
$EndComp
Wire Wire Line
	7650 4500 7650 4450
$Comp
L R_Small R21
U 1 1 56B2685D
P 7450 3700
F 0 "R21" H 7480 3720 50  0000 L CNN
F 1 "4k7" H 7480 3660 50  0000 L CNN
F 2 "" H 7450 3700 50  0000 C CNN
F 3 "" H 7450 3700 50  0000 C CNN
	1    7450 3700
	1    0    0    -1  
$EndComp
$Comp
L R_Small R22
U 1 1 56B26901
P 7650 3700
F 0 "R22" H 7680 3720 50  0000 L CNN
F 1 "4k7" H 7680 3660 50  0000 L CNN
F 2 "" H 7650 3700 50  0000 C CNN
F 3 "" H 7650 3700 50  0000 C CNN
	1    7650 3700
	1    0    0    -1  
$EndComp
$Comp
L R_Small R23
U 1 1 56B2699B
P 7850 3700
F 0 "R23" H 7880 3720 50  0000 L CNN
F 1 "4k7" H 7880 3660 50  0000 L CNN
F 2 "" H 7850 3700 50  0000 C CNN
F 3 "" H 7850 3700 50  0000 C CNN
	1    7850 3700
	1    0    0    -1  
$EndComp
Text GLabel 7300 3500 0    39   Input ~ 8
RC1
Text GLabel 7300 3400 0    39   Input ~ 8
RC2
Text GLabel 7300 3300 0    39   Input ~ 8
RB4
Wire Wire Line
	7300 3500 7450 3500
Wire Wire Line
	7450 3500 7450 3600
Wire Wire Line
	7300 3400 7650 3400
Wire Wire Line
	7650 3400 7650 3600
Wire Wire Line
	7300 3300 7850 3300
Wire Wire Line
	7850 3300 7850 3600
Wire Wire Line
	7450 3800 7450 3850
Wire Wire Line
	7650 3800 7650 3850
Wire Wire Line
	7850 3800 7850 3850
Text Notes 7400 3900 2    39   ~ 0
R
Text Notes 7800 3900 2    39   ~ 0
B
Text Notes 7600 3900 2    39   ~ 0
G\n
$EndSCHEMATC
